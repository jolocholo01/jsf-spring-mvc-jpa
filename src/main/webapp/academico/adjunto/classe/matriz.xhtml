<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/academico/principal/index.xhtml">
	<ui:define name="titulo">Cadastro de Matriz Curricular	</ui:define>
	<ui:define name="cabacalho">
		<style>
.corpo {
	min-height: 500px;
}
</style>

	</ui:define>
	<ui:define name="titulo_do_corpo">
		<ui:include src="/academico/adjunto/template/titulo_do_corpo.xhtml"></ui:include>
	</ui:define>
	<ui:define name="nome_usuario">
		<ui:include src="/academico/adjunto/template/nome_usuario.xhtml"></ui:include>
	</ui:define>

	<ui:define name="ambiente_comum">

		<h:form id="form_menu">
			<div class="menu menubar">
				<ul class="btn1 btn-green">
					<li style="width: 65px;"><h:outputLink
							value="#{request.contextPath}/director-adjunto/index.jsf">
							 Principal
						</h:outputLink></li>
					<h:outputText value=" > " style="font-size:21px;" />
					<li style="width: 228px;"><h:outputLink
							value="#{request.contextPath}/adjunto/matriz.jsf">
							Cadastro de Matriz Curricular
						</h:outputLink></li>
				</ul>
			</div>
		</h:form>

		<h:form>
			<h:panelGroup
				rendered="#{matrizBean.classeSelecionadaParaVisualizarMatriz==null}">
				<h:panelGroup id="idClasseSelcionar"
					rendered="#{matrizBean.classeSelecionada==null}">
					<h:panelGrid columns="2" styleClass="tabala_cadastro"
						style="width: 800px; margin-left: 150px; margin-top: 50px;"
						headerClass="cabecalhoTabela">

						<f:facet name="header">
							<h:outputText value="Manutenção de Matriz Curricular"
								styleClass="texto_cabecalho" />
						</f:facet>
						<h:panelGrid columns="2"
							style="margin-top:20px; margin-left:150px;">
							<h:outputLabel value="Escola :" />
							<h:outputText
								value="#{authenticationContext.usuarioEscolaLogada.descricao}"
								style=" text-transform: uppercase;  margin-left: 20px; " />
							<h:outputLabel value="Ciclo :" style=" margin-top: 20px;" />
							<h:selectOneMenu value="#{matrizBean.ciclo}"
								styleClass="form-control"
								style="width: 180px; text-transform: uppercase;  margin-left: 20px; margin-top: 20px; color:#000;">
								<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
								<f:selectItems value="#{matrizBean.ciclos}" var="ciclo"
									itemLabel="#{ciclo.label}" itemValue="#{ciclo}" />
							</h:selectOneMenu>
							<f:facet name="footer">
								<h:commandButton value="Buscar"
									style="margin-left:150px; margin-top:30px;"
									action="#{matrizBean.buscarClassePorCiclo}" />
								<h:commandButton value="Cancelar" immediate="true"
									style="margin-left:5px; margin-top:30px;"
									action="#{matrizBean.cancelar}" />
							</f:facet>

						</h:panelGrid>
						<f:facet name="footer">
							<h:panelGrid>
								<p:dataTable value="#{matrizBean.classes}" var="classe"
									style="margin-top: 20px; margin-left:2px; margin-right:2px; margin-bottom:2px; "
									styleClass="tabela1" rendered="#{matrizBean.classes !=null}">
									<p:column>
										<f:facet name="header">
											<h:outputText value="Ciclo" />
										</f:facet>
										<h:outputText value="#{classe.ciclo.label}" />
									</p:column>
									<p:column style=" width:260px">
										<f:facet name="header">
											<h:outputText value="Tipo de Ensino" />
										</f:facet>
										<h:outputText value="#{classe.tipoEnsino}"
											style="text-transform: uppercase;" />
									</p:column>
									<p:column>
										<f:facet name="header">
											<h:outputText value="Tipo de Ensino" />
										</f:facet>
										<h:outputText value="#{classe.descricao}" />
									</p:column>
									<p:column style="text-align:center">
										<f:facet name="header">
											<h:outputText value="Sigla" />
										</f:facet>
										<h:outputText value="#{classe.sigla}" />
									</p:column>
									<p:column>
										<h:commandLink title="Visualizar regra da Matriz!"
											action="#{matrizBean.buscarClasseSeleciodadaParaVisualizarMatriz(classe)}">
											<h:graphicImage
												url="#{buscarFotoBean.retornarImagesProcurar}"
												style="margin-left:9px; width:20px; height:25px;" />
										</h:commandLink>
										<h:commandLink title="Cadastrar Matriz!"
											action="#{matrizBean.buscarClasseSeleciodada(classe)}">
											<h:graphicImage
												url="#{buscarFotoBean.retornarImagesCadastro}"
												style="margin-left:9px; width:20px; height:25px;" />
										</h:commandLink>
									</p:column>

								</p:dataTable>
							</h:panelGrid>
						</f:facet>
					</h:panelGrid>
				</h:panelGroup>
				<h:panelGroup rendered="#{matrizBean.classeSelecionada!=null}">

					<h:panelGrid styleClass="tabala_cadastro"
						style="width: 900px; margin-left: 100px; margin-top: 50px; margin-bottom: 60px;"
						headerClass="cabecalhoTabela">

						<f:facet name="header">
							<h:outputText value="Cadastro de Matriz curricular" />
						</f:facet>

						<p:messages closable="true" />

						<h:panelGrid columns="2"
							style=" margin-left: 50px; margin-top: 20px;">
							<h:outputLabel value="Ano:" />
							<h:outputText value="#{authenticationContext.calendarioEscolar.ano}" style="margin-left: 20px; " />
							<h:outputLabel value="Escola: " />
							<h:outputText
								value="#{authenticationContext.usuarioEscolaLogada.descricao}"
								style=" text-transform: uppercase;  margin-left: 20px; " />
							<h:outputLabel value="Classe " />
							<h:outputText value="#{matrizBean.classeSelecionada.descricao}"
								style="  margin-left: 20px; " />
							<h:outputLabel value="Área Curricular :"
								rendered="#{matrizBean.classeSelecionada.ciclo !='PRIMEIRO_CICLO'}" />

							<h:selectOneMenu value="#{matrizBean.matriz.area}"
								converter="areaConverter" id="idArea" styleClass="form-control"
								rendered="#{matrizBean.classeSelecionada.ciclo !='PRIMEIRO_CICLO'}"
								style="width: 340px; margin-left: 20px; text-transform: uppercase;">
								<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
								<f:selectItems value="#{matrizBean.obterAreaPorCiclo}"
									var="area" itemLabel="#{area.descricao}" itemValue="#{area}" />
							</h:selectOneMenu>

							<h:outputLabel value="Opção :"
								style="margin-top: 8px; margin-bottom: 8px"
								rendered="#{matrizBean.classeSelecionada.ciclo !='PRIMEIRO_CICLO'}" />
							<h:inputText value="#{matrizBean.matriz.opcao}"
								styleClass="form-control" rendered="#{matrizBean.classeSelecionada.ciclo !='PRIMEIRO_CICLO'}" 
								style="width: 312px; margin-left: 20px; text-transform: uppercase; margin-top: 8px; margin-bottom: 8px" />
							<h:outputLabel value="Curso :" />
							<h:selectOneMenu value="#{matrizBean.matriz.curso}"
								styleClass="form-control"
								style="width: 200px; margin-left: 20px; text-transform: uppercase;"
								required="true" requiredMessage="O campo curso é obrigatório!">
								<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
								<f:selectItems value="#{matrizBean.cursos}" var="curso"
									itemLabel="#{curso}" itemValue="#{curso}" />

							</h:selectOneMenu>
						</h:panelGrid>
						<f:facet name="footer">
							<h:panelGrid
								style=" width:440px;  margin-left: 50px; margin-top: 20px;">

								<p:dataTable id="tabelaDisciplina"
									value="#{matrizBean.disciplinaClasses}" style="width:800px;"
									var="disciplinaClasse"
									selection="#{matrizBean.disciplinaSelecionadas}"
									rowKey="#{disciplinaClasse.id}"
									rendered="#{matrizBean.disciplinaClasses !=null}">

									<p:column style="width:80px;">
										<f:facet name="header">
											<h:outputText value="Código" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.disciplina.id}" />
									</p:column>

									<p:column style="width:200px;">
										<f:facet name="header">
											<h:outputText value="Componente Curricular" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.disciplina.descricao}" />
									</p:column>
									<p:column style="width:120px; 	text-align: center;  ">
										<f:facet name="header">
											<h:outputText value="C.H Semanal" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.credito}" />
									</p:column>
									<p:column selectionMode="multiple"
										style="text-align:center; width:40px;">
									</p:column>
								</p:dataTable>
								<f:facet name="footer">
									<h:commandButton value="Confirmar"
										action="#{matrizBean.salvar}"
										style="margin-left:5px; margin-top:30px;" />
									<h:commandButton value="Voltar" immediate="true"
										style="margin-left:5px; margin-top:30px;"
										action="#{matrizBean.voltar}" />
									<h:commandButton value="Cancelar" immediate="true"
										style="margin-left:5px; margin-top:30px;"
										action="#{matrizBean.cancelar}" />
								</f:facet>
							</h:panelGrid>
						</f:facet>
					</h:panelGrid>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup
				rendered="#{matrizBean.classeSelecionadaParaVisualizarMatriz !=null}">
				<h:panelGrid columns="2">
					<f:facet name="header">
						<h:outputText value="Visualizar regra de matriz curricular" />
					</f:facet>

					<h:outputLabel value="Ano:" />
					<h:outputText value="#{authenticationContext.calendarioEscolar.ano}" style="margin-left: 20px; " />
					<h:outputLabel value="Escola: " />
					<h:outputText
						value="#{authenticationContext.usuarioEscolaLogada.descricao}"
						style=" text-transform: uppercase;  margin-left: 20px; " />
					<h:outputLabel value="Classe " />
					<h:outputText
						value="#{matrizBean.classeSelecionadaParaVisualizarMatriz.descricao}"
						style="  margin-left: 20px; " />
					<h:outputLabel value="Classe " />
					<h:outputText value="#{matrizBean.matriz.classe}"
						style="  margin-left: 20px; " />
					
					<h:commandButton value="Voltar" immediate="true"
						style="margin-left:5px; margin-top:30px;"
						action="#{matrizBean.voltar}" />
				</h:panelGrid>

			</h:panelGroup>

		</h:form>
	</ui:define>
</ui:composition>
</html>
