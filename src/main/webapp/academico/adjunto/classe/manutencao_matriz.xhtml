<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/academico/principal/index.xhtml">
	<ui:define name="titulo">Cadastro de Matriz Curricular	</ui:define>
	<ui:define name="cabacalho">
		<style>
.corpo {
	min-height: 500px;
}
</style>

	</ui:define>
	<ui:define name="titulo_do_corpo">
		<ui:include src="/academico/adjunto/template/titulo_do_corpo.xhtml"></ui:include>
	</ui:define>
	<ui:define name="nome_usuario">
		<ui:include src="/academico/adjunto/template/nome_usuario.xhtml"></ui:include>
	</ui:define>
	<ui:define name="menu">
		<div class="menu">
			<ul>
				<li style="width: 300px;"><h:outputLink
						value="#{request.contextPath}/academico/adjunto/index.jsf"
						styleClass="fundo">
						<span class="espacamento"> Portal de Gestão Escolar</span>
					</h:outputLink></li>
				<li style="width: 300px;"><h:outputLink value=""
						styleClass="fundo">
						<span class="espacamento"> > Efetuar a Inscrição de
							Estudante</span>
					</h:outputLink></li>
			</ul>
		</div>
	</ui:define>
	<ui:define name="ambiente_comum">

		<h:form>
			<h:panelGroup
				rendered="#{matrizBean.matrizPreprarParaVisualizar==null}">
				<h:panelGroup id="idClasseSelcionar"
					rendered="#{matrizBean.matrizPreprarParaExclusao==null}">
					<h:panelGrid columns="2" styleClass="tabala_cadastro"
						style="width: 800px; margin-left: 150px; margin-top: 50px;"
						headerClass="cabecalhoTabela">

						<f:facet name="header">
							<h:outputText value="Alocação de Disciplina na classe"
								styleClass="texto_cabecalho" />
						</f:facet>
						<h:panelGrid columns="2"
							style="margin-top:20px; margin-left:150px;">
							<h:outputLabel value="Escola :" />
							<h:outputText
								value="#{authenticationContext.usuarioEscolaLogada.descricao}"
								style=" text-transform: uppercase;  margin-left: 20px; " />
							<h:outputLabel value="Ciclo :" style=" margin-top: 20px;" />
							<h:selectOneMenu value="#{matrizBean.ciclo}"
								style="width: 180px; text-transform: uppercase;  margin-left: 20px; margin-top: 20px;">
								<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
								<f:selectItems value="#{matrizBean.ciclos}" var="ciclo"
									itemLabel="#{ciclo.label}" itemValue="#{ciclo}" />
							</h:selectOneMenu>
							<f:facet name="footer">
								<h:commandButton value="Buscar"
									style="margin-left:150px; margin-top:30px;"
									action="#{matrizBean.buscarMatrizPorCiclo}" />
								<h:commandButton value="Cancelar"
									style="margin-left:5px; margin-top:30px;"
									action="#{matrizBean.cancelar}" />
							</f:facet>

						</h:panelGrid>
						<f:facet name="footer">
							<h:panelGrid>
								<p:dataTable value="#{matrizBean.matrizes}" var="matriz"
									style="margin-top: 20px; margin-left:2px; margin-right:2px; margin-bottom:2px; "
									styleClass="tabela1" rendered="#{matrizBean.matrizes !=null}"
									emptyMessage="Nenhum registo encontrado!">

									<p:column style="text-align: center;text-transform: uppercase;">
										<f:facet name="header">
											<h:outputText value="Matriz" />
										</f:facet>
										<h:outputText value="#{matriz.id}" />
									</p:column>
									<p:column style="width:350px;text-transform: uppercase;">
										<f:facet name="header">
											<h:outputText value="Descriçã da Matriz Curricular" />
										</f:facet>
										<h:outputText
											value="#{matriz.classe.ciclo.label} > #{matriz.classe.tipoEnsino} > #{matriz.classe.descricao}" />
									</p:column>
									<p:column rendered="#{matriz.classe.ciclo=='SEGUNDO_CICLO'}">
										<f:facet name="header" >
											<h:outputText value="Opcao"
												style="text-transform: uppercase;" />
										</f:facet>
										<h:outputText value="#{matriz.opcao}" />
									</p:column>
										<p:column>
										<f:facet name="header">
											<h:outputText value="Periódo"
												style="text-transform: uppercase;" />
										</f:facet>
										<h:outputText value="#{matriz.curso}" />
									</p:column>
									<p:column style="width:120px;">
										<h:commandLink title="Visualizar regra da Matriz!"
											action="#{matrizBean.buscarMatrizParaVisualizar(matriz)}">
											<h:graphicImage
												url="#{buscarFotoBean.retornarImagesProcurar}"
												style="margin-left:9px; width:20px; height:20px;" />
										</h:commandLink>
										<h:commandLink title="Cadastrar Matriz!"
											action="#{matrizBean.buscarClasseSeleciodada(classe)}">
											<h:graphicImage
												url="#{buscarFotoBean.retornarImagesCadastro}"
												style="margin-left:9px; width:20px; height:20px;" />
										</h:commandLink>
										<h:commandLink title="Eliminar este Matriz?"
											action="#{matrizBean.prepararexclusaoMatriz(matriz)}">
											<h:graphicImage url="#{buscarFotoBean.retornarImagesExcluir}"
												style="margin-left:9px; width:20px; height:20px;" />
										</h:commandLink>
									</p:column>

								</p:dataTable>
							</h:panelGrid>
						</f:facet>
					</h:panelGrid>

				</h:panelGroup>

				<h:panelGroup
					rendered="#{matrizBean.matrizPreprarParaExclusao!=null}">

					<h:panelGrid styleClass="tabala_cadastro"
						style="width: 900px; margin-left: 100px; margin-top: 50px; margin-bottom: 60px;"
						headerClass="cabecalhoTabela">

						<f:facet name="header">
							<h:outputText value="Excluir Matriz curricular" />
						</f:facet>

						<p:messages closable="true" />

						<h:panelGrid columns="2"
							style=" margin-left: 50px; margin-top: 20px;">
							<h:outputLabel value="Ano:" />
							<h:outputText value="2017" style="margin-left: 20px; " />
							<h:outputLabel value="Escola: " />
							<h:outputText
								value="#{authenticationContext.usuarioEscolaLogada.descricao}"
								style=" text-transform: uppercase;  margin-left: 20px; " />
							<h:outputLabel value="Classe " />
							<h:outputText
								value="#{matrizBean.matrizPreprarParaExclusao.classe.descricao}"
								style="  margin-left: 20px; " />
							<h:outputLabel value="Área Curricular :"
								rendered="#{matrizBean.matrizPreprarParaExclusao.classe.ciclo !='PRIMEIRO_CICLO'}" />

							<h:outputText
								value="#{matrizBean.matrizPreprarParaExclusao.area.descricao}"
								rendered="#{matrizBean.matrizPreprarParaExclusao.classe.ciclo !='PRIMEIRO_CICLO'}"
								style="  margin-left: 20px; text-transform: uppercase;" />

							<h:outputLabel value="Opcao :"
								style="margin-top: 8px; margin-bottom: 8px"
								rendered="#{matrizBean.matrizPreprarParaExclusao.classe.ciclo !='PRIMEIRO_CICLO'}" />
							<h:outputText
								value="#{matrizBean.matrizPreprarParaExclusao.opcao}"
								rendered="#{matrizBean.matrizPreprarParaExclusao.classe.ciclo !='PRIMEIRO_CICLO'}"
								style="  margin-left: 20px; " />
							<h:outputLabel value="Curso :" />
							<h:outputText
								value="#{matrizBean.matrizPreprarParaExclusao.curso}"
								style="  margin-left: 20px; " />
						</h:panelGrid>
						<f:facet name="footer">
							<h:panelGrid
								style=" width:440px;  margin-left: 50px; margin-top: 20px;">

								<p:dataTable id="tabelaDisciplina"
									value="#{matrizBean.matrizPreprarParaExclusao.disciplinaClasses}"
									style="width:800px;" var="disciplinaClasse">

									<p:column style="width:80px;">
										<f:facet name="header">
											<h:outputText value="Código" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.disciplina.id}" />
									</p:column>

									<p:column style="width:200px;">
										<f:facet name="header">
											<h:outputText value="Componente Curricular" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.disciplina.descricao}" />
									</p:column>
									<p:column style="width:120px; 	text-align: center;  ">
										<f:facet name="header">
											<h:outputText value="C.H Semanal" />
										</f:facet>
										<h:outputText value="#{disciplinaClasse.credito}" />
									</p:column>
								</p:dataTable>
								<f:facet name="footer">
								<h:commandButton value="Confirmar"
										
										style="margin-left:5px; margin-top:30px;" />
									
									<h:commandButton value="Voltar" immediate="true"
										style="margin-left:5px; margin-top:30px;"
										action="#{matrizBean.voltar}" />
										<h:commandButton value="Cancelar"
										action="#{matrizBean.cancelar}"
										style="margin-left:5px; margin-top:30px;" />
								</f:facet>
							</h:panelGrid>
						</f:facet>
					</h:panelGrid>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup
				rendered="#{matrizBean.matrizPreprarParaVisualizar !=null}">

				<h:panelGrid styleClass="tabala_cadastro"
					style="width: 900px; margin-left: 100px; margin-top: 50px; margin-bottom: 60px;"
					headerClass="cabecalhoTabela">

					<f:facet name="header">
						<h:outputText value="Visualizar Matriz curricular" />
					</f:facet>

					<p:messages closable="true" />

					<h:panelGrid columns="2"
						style=" margin-left: 50px; margin-top: 20px;">
						<h:outputLabel value="Ano:" />
						<h:outputText value="2017" style="margin-left: 20px; " />
						<h:outputLabel value="Escola: " />
						<h:outputText
							value="#{authenticationContext.usuarioEscolaLogada.descricao}"
							style=" text-transform: uppercase;  margin-left: 20px; " />
						<h:outputLabel value="Classe :" />
						<h:outputText
							value="#{matrizBean.matrizPreprarParaVisualizar.classe.descricao}"
							style="  margin-left: 20px; " />
						<h:outputLabel value="Área Curricular :"
							rendered="#{matrizBean.matrizPreprarParaVisualizar.classe.ciclo !='PRIMEIRO_CICLO'}" />

						<h:outputText
							value="#{matrizBean.matrizPreprarParaVisualizar.area.descricao}"
							rendered="#{matrizBean.matrizPreprarParaVisualizar.classe.ciclo !='PRIMEIRO_CICLO'}"
							style="  margin-left: 20px; text-transform: uppercase;" />

						<h:outputLabel value="Opcao :"
							style="margin-top: 8px; margin-bottom: 8px"
							rendered="#{matrizBean.matrizPreprarParaVisualizar.classe.ciclo !='PRIMEIRO_CICLO'}" />
						<h:outputText
							value="#{matrizBean.matrizPreprarParaVisualizar.opcao}"
							rendered="#{matrizBean.matrizPreprarParaVisualizar.classe.ciclo !='PRIMEIRO_CICLO'}"
							style="  margin-left: 20px; " />
						<h:outputLabel value="Curso :" />
						<h:outputText
							value="#{matrizBean.matrizPreprarParaVisualizar.curso}"
							style="  margin-left: 20px; " />
					</h:panelGrid>
					<f:facet name="footer">
						<h:panelGrid
							style=" width:440px;  margin-left: 50px; margin-top: 20px;">

							<p:dataTable
								value="#{matrizBean.matrizPreprarParaVisualizar.disciplinaClasses}"
								style="width:800px;" var="disciplinaClasse" styleClass="tabela1">

								<p:column style="width:80px;">
									<f:facet name="header">
										<h:outputText value="Código" />
									</f:facet>
									<h:outputText value="#{disciplinaClasse.disciplina.id}" />
								</p:column>

								<p:column style="width:200px;">
									<f:facet name="header">
										<h:outputText value="Componente Curricular" />
									</f:facet>
									<h:outputText value="#{disciplinaClasse.disciplina.descricao}" />
								</p:column>
								<p:column style="width:120px; 	text-align: center;  ">
									<f:facet name="header">
										<h:outputText value="C.H Semanal" />
									</f:facet>
									<h:outputText value="#{disciplinaClasse.credito}" />
								</p:column>
							</p:dataTable>
							<f:facet name="footer">
								<h:commandButton value="Cancelar"
									action="#{matrizBean.cancelar}"
									style="margin-left:5px; margin-top:30px;" />
								<h:commandButton value="Voltar" immediate="true"
									style="margin-left:5px; margin-top:30px;"
									action="#{matrizBean.voltar}" />
							</f:facet>
						</h:panelGrid>
					</f:facet>
				</h:panelGrid>
			</h:panelGroup>

		</h:form>
	</ui:define>
</ui:composition>
</html>
