<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta name="viewport" content="width=device-width, user-scalable=no"></meta>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1"></meta>
	<meta name="_csrf" content="${_csrf.token}" />
	<!-- default header name is X-CSRF-TOKEN -->
	<meta name="_csrf_header" content="${_csrf.headerName}" />

	<!-- #{request.contextPath}. -->
	<title><ui:insert name="titulo" /></title>

	<link
		href="#{request.contextPath}/resources/bootstrap/css/bootstrap.min.css"
		rel="stylesheet" type="text/css" />
	<!-- <link
		href="#{request.contextPath}/resources/bootstrap/css/bootstrap-theme.min.css"
		rel="stylesheet" type="text/css" />
 -->
	<link href="#{request.contextPath}/resources/css/distrito.css"
		rel="stylesheet" type="text/css" />
	<link href="#{request.contextPath}/resources/css/estilo.css"
		rel="stylesheet" type="text/css" />
	<link href="#{request.contextPath}/resources/css/director-escola.css"
		rel="stylesheet" type="text/css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/style.css" type="text/css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/menu.css" type="text/css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/tabela.css" type="text/css" />
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/reset-min.css"
		type="text/css" />

	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/identificacao.css"
		type="text/css" />
<script
		src="#{request.contextPath}/resources/js/jquery-1.12.4.js"></script>
		<script
		src="#{request.contextPath}/resources/js/jquery.dataTables.min.js"></script>
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/mensagem.css"
		type="text/css" />
	<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/bootstrap-datepicker.standalone.min.css" />

	<ui:insert name="cabacalho" />
	<script
		src="#{request.contextPath}/resources/js/bootstrap-datepicker.min.js"></script>
	<script
		src="#{request.contextPath}/resources/js/bootstrap-datepicker.pt.min.js"></script>
	<link rel="stylesheet"
		href="#{request.contextPath}/resources/css/jquery-ui.css"
		type="text/css" />
		<link rel="stylesheet" type="text/css"
		href="#{request.contextPath}/resources/css/icones.css" />
		
</h:head>
<h:body styleClass="bpi">
	<div class="container">
		<div class="cabecalho">
			<div class="container-fluid" id="titulo">
				<!-- Importar o cabecalho de do corpo -->
				<div class="nomeTitulo">
					<ui:insert name="titulo_do_corpo" />
				</div>

				<h:form styleClass="form_sair">
					<h:commandLink value="Sair" styleClass="botao"
						title="Sair do sistema" action="#{authenticationContext.logout}" />
				</h:form>
			</div>

			<ui:insert name="nome_usuario" />
		</div>
		<!-- importar o meun do corpo -->
		<ui:insert name="menu" />
		<div class="corpo_para_fundo">


			<div class="corpo">
				<h:panelGroup rendered="#{classeBean.cadastroClasseBoolean==false}">

				</h:panelGroup>

				<ui:insert name="dados_pessoas" />
				<ui:insert name="ambiente_comum" />


			</div>

			<div id="rodape" class="ui-panel-title">Equipe de suporte:
				sigemoz@gmail.com || 825362335</div>
		</div>
	</div>

	<h:form id="form1">
		<div class="modal fade" id="myModal1" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" data-backdrop="static"
			style="padding-top: 210px;">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="myModalLabel">
							<h:outputLabel value="Alterar o seu vinculo?" />

						</h4>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<h:panelGroup aria-hidden="true">&times;
									<p:ajax event="click" update="form-alterar-vinculo" />
							</h:panelGroup>
						</button>
					</div>
					<div class="modal-body">
						<h:panelGroup id="id-panelGroup-confirma-modal1">

							<div class="form-group row">


								<h:panelGroup
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaPermisao==true}">
									<ul>
										<li style="margin-left: 4%;">Selecione a categoria que
											deseja entrar</li>
									</ul>
								</h:panelGroup>
								<h:panelGroup
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaEscola==true}">
									<ul>
										<li style="margin-left: 4%;">Selecione a escola que
											deseja entrar</li>
									</ul>
								</h:panelGroup>
								<h:messages styleClass="mensagem-senha"
									style="margin-left: -27px;" errorStyle="color: #F00;" />


								<h:selectOneMenu class="form-control"
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaPermisao==true}"
									style="width: 97%; margin: auto;"
									value="#{authenticationContext.funcionarioEscola}"
									required="true" converter="funcionarioEscolaConverter"
									requiredMessage="O campo categoria é obrigatório!">
									<f:selectItem itemLabel="Selecione a categoria#{request.contextPath}. "
										itemValue="#{null}"></f:selectItem>
									<f:selectItems
										value="#{authenticationContext.funcionariosEscolas}"
										var="funcionarioEscola"
										itemLabel="#{funcionarioEscola.permissao.nome}"
										itemValue="#{funcionarioEscola}"></f:selectItems>
								</h:selectOneMenu>
								<h:selectOneMenu id="idEscola" class="form-control"
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaEscola==true}"
									style="width: 97%; margin: auto;"
									value="#{authenticationContext.escola}" required="true"
									converter="escolaConverter"
									requiredMessage="O campo escola é obrigatório!">
									<f:selectItem itemLabel="Selecione a escola#{request.contextPath}. "
										itemValue="#{null}"></f:selectItem>
									<f:selectItems value="#{authenticationContext.escolas}"
										var="escola" itemLabel="#{escola.descricao}"
										itemValue="#{escola}"></f:selectItems>
									<p:ajax event="change" update="idEscola idEnviarEscola"
										listener="#{authenticationContext.selecaoEscola}"></p:ajax>
								</h:selectOneMenu>
							</div>
							<br />
							<h:panelGroup id="idEnviarEscola">
								<h:commandButton value="Enviar Pedido"
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaEscola==true and authenticationContext.quantidadeEscolasFunciobario!=1}"
									class="btn btn-primary btn-autenticar active">

									<p:ajax event="click"
										listener="#{authenticationContext.autenticacaoPorPermissao}"
										update="idEnviarEscola id-panelGroup-confirma-modal1" />

								</h:commandButton>
								<h:commandButton
									action="#{authenticationContext.autenticacaoPorPermissao}"
									value="Enviar Pedido"
									rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaEscola==true and authenticationContext.quantidadeEscolasFunciobario==1}"
									class="btn btn-primary btn-autenticar active">
								</h:commandButton>
							</h:panelGroup>
							<h:commandButton value="Enviar Pedido"
								rendered="#{authenticationContext.funcionarioAlocadoAMaisDeUmaPermisao==true}"
								class="btn btn-primary btn-autenticar active"
								action="#{authenticationContext.autenticar}">

							</h:commandButton>


						</h:panelGroup>
					</div>
					<ui:remove>
						<div class="modal-footer">
							<h:commandButton type="button" title="Cancelar"
								class="btn btn-success" value="Cancelar">
								<f:passThroughAttribute name="data-dismiss" value="modal" />
								<p:ajax event="click" update="form-alterar-vinculo" />
							</h:commandButton>
							<h:commandButton title="Excluir"
								action="#{alunoBean.excluirMatricula}"
								styleClass="btn btn-primary" value="Excluir">

							</h:commandButton>
						</div>
					</ui:remove>
				</div>
			</div>
		</div>

	</h:form>
	<!-- 	<script src="#{request.contextPath}/resources/js/jquery.min.js"></script> -->

	<!-- <script src="#{request.contextPath}/resources/js/jquery-2.1.4.min.js"></script> -->
	<script type="text/javascript"
		src="#{request.contextPath}/resources/bootstrap/js/bootstrap.min.js" />
	<script type="text/javascript"
		src="#{request.contextPath}/resources/js/funcao.js"></script>


</h:body>
</html>

